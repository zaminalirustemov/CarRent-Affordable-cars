@model DashboardViewModel
<div class="content-wrapper">
    <div class="row">
        <div class="col-12 grid-margin stretch-card">
            <div class="card corona-gradient-card">
                <div class="card-body py-0 px-0 px-sm-3">
                    <div class="row align-items-center">
                        <div class="col-4 col-sm-3 col-xl-2">
                            <img src="~/manage/assets/images/dashboard/Group126@2x.png" class="gradient-corona-img img-fluid" alt="">
                        </div>
                        <div class="col-5 col-sm-7 col-xl-8 p-0">
                            <h4 class="mb-1 mb-sm-0">Do you want to go to the site?</h4>
                            <p class="mb-0 font-weight-normal d-none d-sm-block">Then don't stop, click the button on the right and switch.</p>
                        </div>
                        <div class="col-3 col-sm-2 col-xl-2 pl-0 text-center">
                            <span>
                                <a asp-action="index" asp-controller="home" asp-area="" target="_blank" class="btn btn-outline-light btn-rounded get-started-btn">Go to the website</a>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xl-4 col-sm-6 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-9">
                            <div class="d-flex align-items-center align-self-start">
                                <h3 class="mb-0">>>> @Model.Services.Count</h3>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="icon icon-box-info ">
                                <span class="mdi mdi-shape-polygon-plus"></span>
                            </div>
                        </div>
                    </div>
                    <h6 class="text-muted font-weight-normal">Services</h6>
                </div>
            </div>
        </div>
        <div class="col-xl-4 col-sm-6 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-9">
                            <div class="d-flex align-items-center align-self-start">
                                <h3 class="mb-0">>>> @Model.Blogs.Count</h3>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="icon icon-box-warning">
                                <span class="mdi mdi-blogger"></span>
                            </div>
                        </div>
                    </div>
                    <h6 class="text-muted font-weight-normal">Blogs</h6>
                </div>
            </div>
        </div>
        <div class="col-xl-4 col-sm-6 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-9">
                            <div class="d-flex align-items-center align-self-start">
                                <h3 class="mb-0">>>> @Model.Orders.Count</h3>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="icon icon-box-danger">
                                <span class="mdi mdi-basket-unfill"></span>
                            </div>
                        </div>
                    </div>
                    <h6 class="text-muted font-weight-normal">Pending Orders</h6>
                </div>
            </div>
        </div>

    </div>
    <div class="row">
        <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-9">
                            <div class="d-flex align-items-center align-self-start">
                                <h3 class="mb-0">>>> @Model.Cars.Count</h3>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="icon icon-box-primary ">
                                <span class="mdi mdi-car"></span>
                            </div>
                        </div>
                    </div>
                    <h6 class="text-muted font-weight-normal">All Cars</h6>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-9">
                            <div class="d-flex align-items-center align-self-start">
                                <h3 class="mb-0">>>> @Model.Categories.Count</h3>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="icon icon-box-danger">
                                <span class="mdi mdi-chart-arc"></span>
                            </div>
                        </div>
                    </div>
                    <h6 class="text-muted font-weight-normal">Categories</h6>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-9">
                            <div class="d-flex align-items-center align-self-start">
                                <h3 class="mb-0">>>> @Model.Brands.Count</h3>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="icon icon-box-success">
                                <span class="mdi mdi-source-branch"></span>
                            </div>
                        </div>
                    </div>
                    <h6 class="text-muted font-weight-normal">Brands</h6>
                </div>
            </div>
        </div>
        <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="row">
                        <div class="col-9">
                            <div class="d-flex align-items-center align-self-start">
                                <h3 class="mb-0">>>> @(Model.blogComments.Count + Model.carComments.Count)</h3>
                            </div>
                        </div>
                        <div class="col-3">
                            <div class="icon icon-box-secondary ">
                                <span class="mdi mdi-vector-intersection"></span>
                            </div>
                        </div>
                    </div>
                    <h6 class="text-muted font-weight-normal">Interaction</h6>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex flex-row justify-content-between">
                        <h4 class="card-title mb-1">Pending Orders</h4>
                        <a asp-action="index" asp-controller="order" class="text-muted mb-1">View all</a>
                    </div>
                    <div class="row">
                        <div class="col-12">
                            <div class="preview-list">
                                @foreach (Order order in Model.Orders.Take(5))
                                {
                                    <div class="preview-item border-bottom">
                                        <div class="preview-thumbnail">
                                            @if (order.AppUser is null)
                                            {
                                                <img src="~/assets/images/memperphoto.jpg" alt="Avatar" class="rounded-circle" />
                                            }
                                            else
                                            {
                                                @if (order.AppUser.ImageName is null)
                                                {
                                                    <img src="~/assets/images/memperphoto.jpg" alt="Avatar" class="rounded-circle" />
                                                }
                                                else
                                                {
                                                    <img src="~/uploads/user/@order.AppUser.ImageName" alt="Avatar" class="rounded-circle" />
                                                }
                                            }
                                        </div>
                                        <div class="preview-item-content d-sm-flex flex-grow">
                                            <div class="flex-grow">
                                                @if (order.AppUser is null)
                                                {
                                                    <h6 class="preview-subject"><div class="badge badge-outline-info">Guest</div></h6>
                                                }
                                                else
                                                {
                                                    <h6 class="preview-subject"><div class="badge badge-outline-success">Member</div> -  @order.AppUser.Fullname</h6>

                                                    
                                                }
                                                <p class="text-muted mb-0">@order.CreatedDate</p>
                                            </div>
                                            <div class="mr-auto text-sm-right pt-2 pt-sm-0">
                                                <p class="text-muted">@(order.TotalPrice) $</p>
                                                <p class="text-muted mb-0">@String.Format("{0:d/M/yyyy}", order.PickUp).Replace(" ","/") - @String.Format("{0:d/M/yyyy}", order.DropOff).Replace(" ","/") </p>
                                            </div>
                                        </div>
                                    </div>
                                }


                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 col-xl-8 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <div class="d-flex flex-row justify-content-between">
                        <h4 class="card-title">Messages</h4>
                        <a asp-action="Index" asp-controller="contact" class="text-muted mb-1 small">View all</a>
                    </div>
                    <div class="preview-list">
                        @foreach (Contact contact in Model.Contacts)
                        {
                            <div class="preview-item border-bottom">
                                <div class="preview-thumbnail">
                                    @if (contact.AppUser.ImageName is null)
                                    {
                                        <img src="~/assets/images/memperphoto.jpg" alt="Avatar" class="rounded-circle" />
                                    }
                                    else
                                    {
                                        <img src="~/uploads/user/@contact.AppUser.ImageName" alt="Avatar" class="rounded-circle" />
                                    }
                                </div>
                                <div class="preview-item-content d-flex flex-grow">
                                    <div class="flex-grow">
                                        <div class="d-flex d-md-block d-xl-flex justify-content-between">
                                            <h6 class="preview-subject">@contact.AppUser.Fullname</h6>
                                            <p class="text-muted text-small">@contact.SendedDate</p>
                                        </div>
                                        <p class="text-muted">@contact.Subject</p>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6 col-xl-4 grid-margin stretch-card">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Last Blog</h4>
                    <div>
                        <div class="item">
                            <img style="max-width: 100%;" src="~/uploads/blog/@Model.Blogs.FirstOrDefault()?.ImageName" alt="">
                            
                        </div>
                    </div>
                    <div class="d-flex py-4">
                        <div class="preview-list w-100">
                            <div class="preview-item p-0">
                                <div class="preview-thumbnail">
                                    <img src="~/assets/images/loc.png" class="rounded-circle" alt="">
                                </div>
                                <div class="preview-item-content d-flex flex-grow">
                                    <div class="flex-grow">
                                        <div class="d-flex d-md-block d-xl-flex justify-content-between">
                                            <h6 class="preview-subject">@Model.Blogs.FirstOrDefault()?.Title</h6>
                                        </div>
                                        <p class="text-muted">@Model.Blogs.FirstOrDefault()?.Description.Substring(0,15) ...</p> 
                                    </div>

                                    <p class="text-muted">@String.Format("{0:d/M/yyyy}",Model.Blogs.FirstOrDefault()?.CreatedDate ).Replace(" ","/") </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="progress progress-md portfolio-progress">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Visitors by Countries</h4>
                    <div class="row">
                        <div class="col-md-12">
                            <div id="audience-map" class="vector-map"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>